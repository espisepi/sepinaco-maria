<krpano version="1.20.11" title="Tour aula tecnológica USC">

	<include url="skin/vtourskin.xml" />
	<include url="toolbox/toolbox.xml" />

	<include url="style.xml"/>

	<!--
	<include url="plugins/circle_hotspots.xml"/>
	-->


	<!-- customize skin settings: maps, gyro, webvr, thumbnails, tooltips, layout, design, ... -->
	<skin_settings maps="false"
	               maps_type="google"
	               maps_bing_api_key=""
	               maps_google_api_key=""
	               maps_zoombuttons="false"
	               maps_loadonfirstuse="true"
	               gyro="true"
	               gyro_keeplookingdirection="false"
	               webvr="true"
	               webvr_keeplookingdirection="true"
	               webvr_prev_next_hotspots="true"
	               autotour="false"
	               littleplanetintro="false"
	               followmousecontrol="false"
	               title="true"
	               thumbs="true"
	               thumbs_width="120" thumbs_height="80" thumbs_padding="10" thumbs_crop="0|40|240|160"
	               thumbs_opened="false"
	               thumbs_text="false"
	               thumbs_dragging="true"
	               thumbs_onhoverscrolling="false"
	               thumbs_scrollbuttons="false"
	               thumbs_scrollindicator="false"
	               thumbs_loop="false"
	               tooltips_buttons="false"
	               tooltips_thumbs="false"
	               tooltips_hotspots="false"
	               tooltips_mapspots="false"
	               deeplinking="false"
	               loadscene_flags="MERGE"
	               loadscene_blend="OPENBLEND(0.5, 0.0, 0.75, 0.05, linear)"
	               loadscene_blend_prev="SLIDEBLEND(0.5, 180, 0.75, linear)"
	               loadscene_blend_next="SLIDEBLEND(0.5,   0, 0.75, linear)"
	               loadingtext=""
	               layout_width="100%"
	               layout_maxwidth="814"
	               controlbar_width="-24"
	               controlbar_height="40"
	               controlbar_offset="20"
	               controlbar_offset_closed="-40"
	               controlbar_overlap.no-fractionalscaling="10"
	               controlbar_overlap.fractionalscaling="0"
	               design_skin_images="vtourskin.png"
	               design_bgcolor="0x2D3E50"
	               design_bgalpha="0.8"
	               design_bgborder="0"
	               design_bgroundedge="1"
	               design_bgshadow="0 4 10 0x000000 0.3"
	               design_thumbborder_bgborder="3 0xFFFFFF 1.0"
	               design_thumbborder_padding="2"
	               design_thumbborder_bgroundedge="0"
	               design_text_css="color:#FFFFFF; font-family:Arial;"
	               design_text_shadow="1"
	               />

	<!--
	    For an alternative skin design either change the <skin_settings> values 
	    from above or optionally include one of the predefined designs from below.
	-->
	<!-- <include url="skin/vtourskin_design_flat_light.xml"  /> -->
	<!-- <include url="skin/vtourskin_design_glass.xml"       /> -->
	<!-- <include url="skin/vtourskin_design_ultra_light.xml" /> -->
	<!-- <include url="skin/vtourskin_design_117.xml"         /> -->
	<!-- <include url="skin/vtourskin_design_117round.xml"    /> -->
	<!-- <include url="skin/vtourskin_design_black.xml"       /> -->


	
	<layer name= "CreditosSIE" url="creditosSIE.jpg" keep= "true" scale="0.5"
		enebled="true"
		alpha="0.8"
		onclick="openurl(https://grupo.us.es/gidus/)"
		align="bottomleft"
		edge="bottomleft"
		x="10" y="10" />

	<layer name= "CreditosSIE" url="creditosSIE.jpg" keep= "true" scale="0.3"
		devices="mobile"
		enebled="true"
		alpha="0.8"
		onclick="openurl(https://grupo.us.es/gidus/)"
		align="topright"
		edge="topright"
		x="10" y="10" />
	
	<layer name= "logo_USC" url="home.png" keep= "true" scale="0.15"
		enebled="true"
		alpha="1"
		onclick="openurl(https://www.usc.gal/es)"
		align="topleft"
		edge="topleft"
		x="10" y="10" />

	<layer name= "logo_USC" url="home.png" keep= "true" scale="0.03"
		devices="mobile"
		enebled="true"
		alpha="1"
		onclick="openurl(https://www.usc.gal/es)"
		align="topleft"
		edge="topleft"
		x="10" y="10" />

	<layer name="intro"
			type="container"
			keep="true"
			width="100%"
			height="100%"
			bgcolor="0x000000"
			bgalpha="0.8"
			zorder="9999"
			enabled="true"
			bgcapture="true"
			onloaded="on_intro_loaded()"
			onclick="on_intro_click()"
			>

		<layer name="intro_logo" 
			enabled="false"
			alpha="0"
			url= "gidUSC.png" align="center" y="-80" scale="0.1" />
			
		<layer name="intro_start" url= "clickstart.png"
			enabled="false"
			alpha="0"
			align="center" y="80" scale="0.4" />

		<layer name="intro_start" url= "clickstart_mobile.png"
			devices="mobile" 
			enabled="false"
			alpha="0"
			align="center" y="100" scale="0.2"
			/>
		</layer>
	


	<action name="on_intro_click">
		<!--set(layer[intro].alpha,0);-->
		tween(layer[intro].alpha,0);
		set (layer[intro].enabled, false);
	</action> 
	
	<action name="on_intro_loaded">
		delayedcall(1.5, 
			tween(layer[intro_logo].alpha,1);
			tween(layer[intro_start].alpha,1);
		);
		
	</action>
	


	<plugin name="pp_blur" keep="true"
		url="%VIEWER%/plugins/pp_blur.js"
		enabled="true"
		range="0.0"
		linearrgb="false"
		order="1"
		phase="2"
		/>

	
	<action name="popup" scope="private:POPUP" args="type, content, width, height, scrollbars, onclose_callback"><![CDATA[
		if(popup, break(); );
		
		addlayer('popup_bg', popup_bg);
		set(popup_bg,
			type=container,
			align=lefttop, width=100%, height=100%,
			zorder=99,
			handcursor=false,
			bgcapture=true,
			capture=false,
			//bgcolor=0x123456, onloaded='tween(bgalpha,0.3,1.0);',	// optional: colorize the background
			onclick='popup_close()'
		);
			
		
		addlayer('popup', popup);
		set(popup,
			type=container,
			parent='popup_bg',
			width=calc(min(width,global.stagewidth*0.9)),
			height=calc(min(height,global.stageheight*0.8)),
			align=center,
			bgborder='1 0x555555 1',
			bgcolor=0x555555,
			bgalpha=0.7,
			bgshadow='0 10 20 0x000000 0.5',
			bgcapture=true,
			maskchildren=false,
			capture=true,
			handcursor=false,
			alpha=0
		);
		
		/*
		// optional: add a close button
		addlayer('popup_close_x', closex);
		set(closex,
			url='%CURRENTXML%/closex.png',
			parent='popup',
			align=righttop,
			edge=center,
			scale=0.5,
			zorder=99,
			alpha=0.25,
			onover='tween(alpha,1)',
			onout='tween(alpha,0.25)',
			ondown='tween(alpha,1)',
			onup='tween(alpha,0.25)',
			onclick='popup_close()'
		);
		*/

		if(type == 'html',
			set(popup.type, html);
			copy(popup.html, content);
			copy(popup.htmlscrollbars, scrollbars);

		  ,type == 'iframe',
			set(popup.type, iframe);
			copy(popup.iframeurl, content);

		  ,type == 'image',
		 	set(popup,
		 		bgcolor=0xFFFFFF,
		 		bgalpha=1,
		 	);
			addlayer("popup_image", img);
			set(img,
				url=get(content),
				align=center,
				width=-20, height=-20,
				parent=get(popup.name),
				onloaded='popup_imageloaded()'
			);
		);

		tween(global.plugin[pp_blur].range, 40.0);
		delayedcall(0.2, tween(global.layer[popup].alpha, 1.0); );

		// events when the popup should get closed automatically
		set(global.events[popup].onremovepano, popup_close() );
	]]></action>
	
	
	<action name="popup_close" scope="private:POPUP">
		if (onclose_callback,
			callback = onclose_callback;
			onclose_callback = null;
			scope(global, get(callback) );
		);
		
		set(global.plugin[popup_bg].enabled, false);
		set(global.events[popup].name, null);
		tween(global.plugin[pp_blur].range, 0.0);
		tween(global.layer[popup_bg].bgalpha, 0.0, 0.25);
		tween(global.layer[popup].alpha, 0.0, 0.25, default,
			removelayer('popup_bg', true);
			scope(private:POPUP, delete(popup); );
		);
	</action>



	<action name="do_crop_animation" scope="local" args="framewidth, frameheight, framerate">
		<!-- define local variables -->
		calc(local.xframes, (caller.imagewidth /framewidth) BOR 0);
		calc(local.frames, xframes * ((caller.imageheight / frameheight) BOR 0));
		def(local.frame, integer, 0);
		
		<!-- set the first frame -->
		calc(caller.crop, '0|0|' + framewidth + '|' + frameheight);
		
		<!-- do the animation -->
		setinterval(calc('crop_anim_' + caller.name), calc(1.0 / framerate),
			if(caller.loaded,
				inc(frame);
				if(frame GE frames, if(caller.onlastframe !== null, callwith(caller, onlastframe() ) ); set(frame,0); );
				mod(xpos, frame, xframes);
				div(ypos, frame, xframes);
				Math.floor(ypos);
				mul(xpos, framewidth);
				mul(ypos, frameheight);
				calc(caller.crop, xpos + '|' + ypos + '|' + framewidth + '|' + frameheight);
			  ,
				<!-- stop the interval when the hotspot gets removed -->
				clearinterval(calc('crop_anim_' + caller.name));
			);
		);
	</action>



	<action name="goto_scene_pasillo">
    loadscene(scene_pasillo, null, MERGE);
	</action>


	<action name="goto_scene_aula_1_usc">
	loadscene(scene_aula_1_usc, null, MERGE);
	</action>

	<action name="goto_scene_conserjeria_sinvideo">
	loadscene(scene_conserjeria_sinvideo, null, MERGE);
	</action>



	<style name="info_estatico">
    <hotspot name="spot_estatico" style="skin_hotspotstyle" zoom="false" />
	</style>

	
	<!-- the 'tooltip' style - show the tooltip textfield and update its position as long as hovering -->
	<style name="tooltip"
	       onover="copy(layer[tooltip].html, tooltip);
	               set(layer[tooltip].visible, true);
	               tween(layer[tooltip].alpha, 1.0, 0.5);
	               asyncloop(hovering, copy(layer[tooltip].x,mouse.stagex); copy(layer[tooltip].y,mouse.stagey); );"
	       onout="tween(layer[tooltip].alpha, 0.0, 0.25, default, set(layer[tooltip].visible,false), copy(layer[tooltip].x,mouse.stagex); copy(layer[tooltip].y,mouse.stagey); );"
	       />

	<!-- the 'tooltip' textfield -->
	<layer name="tooltip" keep="true"
	       type="text"
	       parent="STAGE"
	       visible="false" alpha="0"
	       enabled="false"
	       align="lefttop"
	       edge="bottom"
	       oy="-2"
	       background="false" backgroundcolor="0xFFFFFF" backgroundalpha="1.0"
	       border="false" bordercolor="0x000000" borderalpha="1.0"
	       borderwidth="1.0" roundedge="0"
	       shadow="0.0" shadowrange="4.0" shadowangle="45" shadowcolor="0x000000" shadowalpha="1.0"
	       textshadow="1" textshadowrange="6.0" textshadowangle="90" textshadowcolor="0x000000" textshadowalpha="1.0"
	       css="text-align:center; color:#FFFFFF; font-family:Arial; font-weight:bold; font-size:18px;"
	       html=""
	       />



	<!-- Cargar el plugin soundinterface -->
    <plugin name="soundinterface"
        url="plugins/soundinterface.js"
        preload="true"
        rootpath=""
        volume="1.0"
        mute="false"
        panningmodel="simple"
        worldscale="1.0"
        autopause="true"
        autounlock="true"
        />

    <!-- Definir la acción para reproducir el sonido y mostrar los hotspots -->
	   <!-- Definir las acciones -->
    <action name="play_papel">
        delayedcall(0, startVideo1());
		delayedcall(4, startVideo2());
		delayedcall(8, startVideo3());
    </action>
    
    <action name="startVideo1">
        set(hotspot[i1].pausedonstart, false);
		hotspot[i1].play();
		set(hotspot[i1].visible, true);
    </action>
	<action name="startVideo2">
	    set(hotspot[i2].pausedonstart, false);
		hotspot[i2].play();
		set(hotspot[i2].visible, true);
    </action>
	<action name="startVideo3">
	    set(hotspot[i3].pausedonstart, false);
		hotspot[i3].play();
		set(hotspot[i3].visible, true);
    </action>
    <!-- <action name="play_papel"> -->
        <!-- playsound(aulasfuturo, 'recursos/audio/aulasfuturo.mp3'); -->
        <!-- delayedcall(3, set(hotspot[i1].play, true));
        delayedcall(6, set(hotspot[i2].play, true));
        delayedcall(9, set(hotspot[i3].play, true));
        delayedcall(21, set(hotspot[i4].play, true));
		delayedcall(28, set(hotspot[i5].play, true)); -->

		<!--
		wait(3.0);
        set(hotspot[i1].play, true);
		set(hotspot[i1].visible, true);
		wait(3.0);
		set(hotspot[i2].play, true);
		set(hotspot[i2].visible, true); 
		-->



        <!-- delayedcall(35, set(hotspot[pizarra].visible, true));
        

        delayedcall(52, set(hotspot[movil1].visible, true));
        delayedcall(53, set(hotspot[movil2].visible, true));
        delayedcall(54, set(hotspot[movil3].visible, true));
        delayedcall(55, set(hotspot[movil4].visible, true));
        delayedcall(16, set(hotspot[petertranny].visible, true));
        delayedcall(17, set(hotspot[amparo].visible, true));
        delayedcall(1, set(hotspot[letra3].visible, true));
        delayedcall(18, set(hotspot[noe].visible, true));
        
        delayedcall(19, set(hotspot[mesa].visible, true));
        delayedcall(20, set(hotspot[fiat].visible, true));
        delayedcall(1, set(hotspot[letra4].visible, true));
        delayedcall(21, set(hotspot[amparo2].visible, true));
        delayedcall(21, set(hotspot[hotspot2].visible, true)); -->
        
    <!-- </action> -->

	<action name="playvideo">
    <!-- Pausar el video anterior si está reproduciendo -->
    <!-- if(%1 != null, if(%1.pausedonstart == false, pausesound(%1)));
    playsound(%1, %1.videourl); -->
</action>


	<scene name="scene_papel" title="papel" onstart="play_papel();" thumburl="panos/papel.tiles/thumb.jpg" lat="" lng="" alt="" heading="">
        <autorotate enabled="false" waittime="0.5" speed="1.0" horizon="0.0" />
		<control bouncinglimits="calc:image.cube ? true : false" />
        <view hlookat="1.6361793606421329" vlookat="0.18442449326715848" fov="56.907548271146155" fovtype="MFOV" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="auto" />
        <preview url="panos/papel.tiles/preview.jpg" />
        <image>
            <cube url="panos/papel.tiles/pano_%s.jpg" />
        </image>
		

		<hotspot name="i1" 
                 url.html5="plugins/videoplayer.js"
                 url.flash="plugins/videoplayer.swf"
                 videourl="recursos/video/i1.mp4"
                 ath="0.718730637524061" atv="-3.0211470912892002" scale="0.1389000000000048" rx="1.2499999999997584" ry="3.050000000000164" rz="0.25"
                 width="1920"
                 height="1080"
                 alpha="1"
                 chromakey="0x00FF00|0.60|0.10"
                 distorted="true"
                 zorder="0"
                 visible="false"
                 pausedonstart="true"
                 loop="false"
                 volume="1.0"
                 directionalsound="true"
                 range="90.0"
                 rangefalloff="1.0"
                 outofrangevolume="1.0"
                 onhover=""
                 onclick=""
                 onvideocomplete=""
                 onerror=""
                 handcursor="true"
                 capture="true">
        </hotspot>

		<hotspot name="i2" 
                 url.html5="plugins/videoplayer.js"
                 url.flash="plugins/videoplayer.swf"
                 videourl="recursos/video/i2.mp4"
                 ath="1.7711967274124163" atv="4.034378349113928" scale="0.19960000000000294" rx="0" ry="0" rz="0.14999999999999505"
                 width="1920"
                 height="1080"
                 alpha="1"
                 chromakey="0x00FF00|0.60|0.10"
                 distorted="true"
                 zorder="0"
                 visible="false"
                 pausedonstart="true"
                 loop="false"
                 volume="1.0"
                 directionalsound="true"
                 range="90.0"
                 rangefalloff="1.0"
                 outofrangevolume="0.0"
                 onhover=""
                 onclick=""
                 onvideocomplete=""
                 onerror=""
                 handcursor="true"
                 capture="true">
        </hotspot>

		<hotspot name="i3" 
                 url.html5="plugins/videoplayer.js"
                 url.flash="plugins/videoplayer.swf"
                 videourl="recursos/video/i3.mp4"
                 ath="33.57162016346871" atv="3.680981741453779" scale="0.14059999999999723" rx="0.05000000000006821" ry="-6.1999999999996405" rz="1.5000000000000004"
                 width="1920"
                 height="1080"
                 alpha="1"
                 chromakey="0x00FF00|0.60|0.10"
                 distorted="true"
                 zorder="0"
                 visible="false"
                 pausedonstart="true"
                 loop="false"
                 volume="1.0"
                 directionalsound="true"
                 range="90.0"
                 rangefalloff="1.0"
                 outofrangevolume="0.0"
                 onhover=""
                 onclick=""
                 onvideocomplete=""
                 onerror=""
                 handcursor="true"
                 capture="true">
        </hotspot>

		<hotspot name="i4" 
                 url.html5="plugins/videoplayer.js"
                 url.flash="plugins/videoplayer.swf"
                 videourl="recursos/video/i4.mp4"
                 ath="37.17518445593629" atv="20.672330696802423" scale="0.259700000000005" rx="-38.950000000000045" ry="-8.549999999999667" rz="-10.000000000000014"
                 width="1920"
                 height="1080"
                 alpha="1"
                 chromakey="0x00FF00|0.60|0.10"
                 distorted="true"
                 zorder="0"
                 visible="false"
                 pausedonstart="true"
                 loop="false"
                 volume="1.0"
                 directionalsound="true"
                 range="90.0"
                 rangefalloff="1.0"
                 outofrangevolume="0.0"
                 onhover=""
                 onclick=""
                 onvideocomplete=""
                 onerror=""
                 handcursor="true"
                 capture="true">
        </hotspot>

		<hotspot name="i5" 
                 url.html5="plugins/videoplayer.js"
                 url.flash="plugins/videoplayer.swf"
                 videourl="recursos/video/i5.mp4"
                 ath="85.20334356584874" atv="0.26276898164517265" scale="0.11600000000000267" rx="4.5499999999999545" ry="2.8000000000003666" rz="-1.3836154444391013e-14"
                 width="1920"
                 height="1080"
                 alpha="1"
                 chromakey="0x00FF00|0.60|0.10"
                 distorted="true"
                 zorder="0"
                 visible="false"
                 pausedonstart="true"
                 loop="false"
                 volume="1.0"
                 directionalsound="true"
                 range="90.0"
                 rangefalloff="1.0"
                 outofrangevolume="0.0"
                 onhover=""
                 onclick=""
                 onvideocomplete=""
                 onerror=""
                 handcursor="true"
                 capture="true">
        </hotspot>
		
		<hotspot name="pizarra" 
        url="recursos/imagen/pizarra.png" 
        ath="45.97157152191323" atv="-0.8341087293510239" scale="0.38240000000000185" rx="-3.6499999999999955" ry="28.5" rz="-1.4500000000000006"
        visible="false" 
        distorted="true" 
        chromakey="0x000000|1.4|0.0" 
        capture="false" 
        handcursor="false" />

		<hotspot name="mesa" 
        url="recursos/imagen/mesa.png" 
        ath="76.94318254864277" atv="12.445760626330976" scale="0.43000000000000715" rx="8.350000000000005" ry="28.5" rz="-1.4500000000000006"
        visible="false" 
        distorted="true" 
        chromakey="0x#FFFFFF|1.4|0.0" 
        capture="false" 
        handcursor="false" />

		<hotspot name="movil1" 
        url="recursos/imagen/movil1.png" 
        ath="72.23613242953445" atv="3.0284185892303848" scale="0.1700000000000036" rx="20.49999999999997" ry="-28.5" rz="13"
        visible="false" 
        distorted="true" 
        chromakey="0x000000|1.4|0.0" 
        capture="false" 
        handcursor="false" />


		<hotspot name="movil2" 
        url="recursos/imagen/movil2.png" 
        ath="81.13449313498643" atv="1.980791708522146" scale="0.11990000000000396" rx="10.350000000000005" ry="10.5" rz="-1.4500000000000006"
        visible="false" 
        distorted="true" 
        chromakey="0x000000|1.4|0.0" 
        capture="false" 
        handcursor="false" />


		<hotspot name="movil3" 
        url="recursos/imagen/movil3.png" 
        ath="76.16075903646663" atv="3.1201039547024347" scale="0.12040000000000231" rx="-14.149999999999995" ry="8" rz="-1.4500000000000006"
        visible="false" 
        distorted="true" 
        chromakey="0x000000|1.4|0.0" 
        capture="false" 
        handcursor="false" />

		<hotspot name="movil4" 
        url="recursos/imagen/movil4.png" 
        ath="77.17420623557587" atv="13.278228743491377" scale="0.13710000000000278" rx="52.35000000000001" ry="2.5" rz="-1.4500000000000006"
        visible="false" 
        distorted="true" 
        chromakey="0x000000|1.4|0.0" 
        capture="false" 
        handcursor="false" />

  </scene>



	 <scene name="scene_menu" title="menu" onstart="" thumburl="panos/menu.tiles/thumb.jpg" lat="" lng="" alt="" heading="">
        <control bouncinglimits="calc:image.cube ? true : false" />
        <view hlookat="-0.4591842931905546" vlookat="-2.4828528122694604" fov="100.43433996171316" fovtype="MFOV" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="auto" />
        <preview url="panos/menu.tiles/preview.jpg" />
        <image>
            <cube url="panos/menu.tiles/pano_%s.jpg" />
        </image>

		<!-- Hotspot con el video de manolo -->
        <hotspot name="manolo"
                 url.html5="plugins/videoplayer.js"
                 url.flash="plugins/videoplayer.swf"
                 videourl="recursos/video/manolo.mp4"
                 ath="34.89143933459724" atv="3.074638236425413" scale="0.3208999999999995" rx="7.7499999999999805" ry="26.900000000000247" rz="0"
                 width="500"
                 height="1080"
                 alpha="1"
                 chromakey="0x00ff00|1.5|0.15"
                 distorted="true"
                 zorder="6"
                 visible="true"
                 pausedonstart="true"
                 loop="true"
                 volume="1.0"
                 directionalsound="false"
                 range="90.0"
                 rangefalloff="1.0"
                 outofrangevolume="0.0"
                 onhover=""
                 onclick=""
                 onvideocomplete=""
                 onerror="">
        </hotspot>

		<!-- Hotspot con imagen de aula futuro -->
        <hotspot name="imagen_aulafuturo"
                 url="recursos/imagen/aulafuturo.webp"
                 ath="-8.600370257405075" atv="-10.90544223161378" scale="0.5852000000000009" rx="-11.149999999999874" ry="0" rz="0"
                 width="1141"
                 height="584"
                 distorted="true"
                 chromakey="0x02FD03|1.4|0.0"
                 handcursor="true"
                 capture="true"
                 visible="false">
            <style>chromakey</style>
        </hotspot>

		 <!-- Hotspot con el video aula del futuro -->
            <hotspot name="aula_del_futuro"
                 url.html5="plugins/videoplayer.js"
                 url.flash="plugins/videoplayer.swf"
                 videourl="recursos/video/auladelfuturo.mp4"
                 ath="-8.600370257405075" atv="-10.90544223161378" scale="0.27020000000000066" rx="-11.149999999999874" ry="0" rz="0"
                 width="1920"
                 height="1080"
                 alpha="1"
                 distorted="true"
                 zorder="6"
                 pausedonstart="true"
                 loop="true"
                 volume="1.0"
                 directionalsound="true"
                 range="90.0"
                 rangefalloff="1.0"
                 outofrangevolume="0.0"
                 onhover=""
                 onclick=""
                 onvideocomplete=""
                 onerror=""
                 visible="true"
                 handcursor="true"
                 capture="true">
        </hotspot>

    </scene>


	<scene name="scene_cabina" title="cabina" onstart="js(juego.updateHotspotText());" thumburl="panos/cabina.tiles/thumb.jpg" lat="" lng="" alt="" heading="">
        
        <control bouncinglimits="calc:image.cube ? true : false" />

        <view hlookat="119.5956898359671" vlookat="13.954128089007272" fov="67.34103672188499" fovtype="MFOV" maxpixelzoom="2.0" fovmin="70" fovmax="67.34103672188499" limitview="auto" />

        <preview url="panos/cabina.tiles/preview.jpg" />

        <image>
            <cube url="panos/cabina.tiles/pano_%s.jpg" />
        </image>


        <!-- Hotspot con el video de manolo -->
        <hotspot name="manolo"
                 url.html5="plugins/videoplayer.js"
                 url.flash="plugins/videoplayer.swf"
                 videourl="recursos/video/manolo.mp4"
                 ath="109.89443946146719" atv="6.448632800398121" scale="0.09089999999999936" rx="0" ry="0" rz="0"
                 width="500"
                 height="1080"
                 alpha="1"
                 chromakey="0x00ff00|1.5|0.15"
                 distorted="true"
                 zorder="6"
                 visible="false"
                 pausedonstart="true"
                 loop="false"
                 volume="1.0"
                 directionalsound="true"
                 range="90.0"
                 rangefalloff="1.0"
                 outofrangevolume="0.0"
                 onhover=""
                 onclick=""
                 onvideocomplete="set(hotspot[movil_apagado].visible, true); set(hotspot[movil].visible, false); pausevideo(manolo); set(hotspot[play_movil].capture, false);"
                 onerror="">
        </hotspot>
    </scene>

   

    



	<scene name="scene_conserjeria" title="Conserjería" onstart="" thumburl="panos/conserjeria.tiles/thumb.jpg" lat="" lng="" heading="" >
		
		<control bouncinglimits="calc:image.cube ? true : false" />

		<view hlookat="64.81722070838748" vlookat="9.012721860070432" fov="92.93519296432203" fovtype="MFOV" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="auto" />

		<preview url="panos/conserjeria.tiles/preview.jpg" />

		<image>
			<cube url="panos/conserjeria.tiles/%s/l%l/%v/l%l_%s_%v_%h.jpg" multires="512,640,1280,2560" />
		</image>
		
		<hotspot name="vid_zocal" url.html5="plugins/videoplayer.js" url.flash="plugins/videoplayer.swf" videourl="recursos/video/manolo.mp4" posterurl="recursos/imagen/play.png" ath="86.560" atv="15.000" scale="0.35" width="450" height="1000" alpha="1" chromakey="0x00ff00|1.5|0.15" distorted="true" zorder="6" visible="true" pausedonstart="false" loop="false" volume="1.0" directionalsound="true" range="90.0" rangefalloff="1.0" outofrangevolume="0.0" onhover="showtext(Play/Pause, default); " onvideoready="" onvideoplay="5" onvideopaused="" onvideocomplete="closevid_zocal();" onerror="" onclick="togglepause(vid_zocal);"/>
		
		<hotspot name="vid_zocal" devices="mobile" url.html5="plugins/videoplayer.js" url.flash="plugins/videoplayer.swf" videourl="recursos/video/manolo.mp4" posterurl="recursos/imagen/play.png" ath="86.560" atv="15.000" scale="0.35" width="450" height="1000" alpha="1" chromakey="0x00ff00|1.5|0.15" distorted="true" zorder="6" visible="true" pausedonstart="false" loop="false" volume="1.0" directionalsound="true" range="90.0" rangefalloff="1.0" outofrangevolume="0.0" onhover="showtext(Play/Pause, default); " onvideoready="" onvideoplay="" onvideopaused="" onvideocomplete="closevid_zocal();" onerror="" onclick="togglepause(vid_zocal);"/>
		
		<hotspot name="spot3" url="hotspotlogoUSC.png"  style="tooltip" distorted="true" tooltip="Entrada ao Módulo C1" ath="-55.6159076029694" atv="12.774010015842821" scale="0.4099999999999999" rx="-44" ry="-24" rz="-22" onclick="goto_scene_pasillo();" />
	
	</scene>





	<scene name="scene_pasillo" title="Pasillo" onstart="" thumburl="panos/pasillo.tiles/thumb.jpg" lat="" lng="" heading="">
		
		<control bouncinglimits="calc:image.cube ? true : false" />

		<view hlookat="-154.526" vlookat="8.664" fovtype="MFOV" fov="125.030" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="auto" />

		<preview url="panos/pasillo.tiles/preview.jpg" />

		<image>
			<cube url="panos/pasillo.tiles/%s/l%l/%v/l%l_%s_%v_%h.jpg" multires="512,640,1280,2560" />
		</image>
		<hotspot name="spot1" url="hotspotlogoUSC.png"  style="tooltip" distorted="true" tooltip="Laboratorio de Tecnoloxía Educativa EduMaker" ath="157.19799923377616" atv="10.16899980763132" scale="0.5" rx="0" ry="0" rz="0" onclick="goto_scene_aula_1_usc();"/>
		<hotspot name="spot2" url="hotspotlogoUSC.png"  style="tooltip" distorted="true" tooltip="Saída" ath="-105.34999941946464" atv="11.182999465521993" scale="0.5" rx="0" ry="0" rz="0" onclick="goto_scene_conserjeria_sinvideo();" />
	</scene>


	<scene name="scene_aula_1_usc" title="Aula 1" onstart="" thumburl="panos/aula_1_usc.tiles/thumb.jpg" lat="" lng="" heading="">
		
		<control bouncinglimits="calc:image.cube ? true : false" />

		<view hlookat="54.994" vlookat="5.353" fovtype="MFOV" fov="124.987" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="auto" />

		<preview url="panos/aula_1_usc.tiles/preview.jpg" />

		<image>
			<cube url="panos/aula_1_usc.tiles/%s/l%l/%v/l%l_%s_%v_%h.jpg" multires="512,640,1280,2560" />
		</image>
		<hotspot name="spot1" url="hotspotlogoUSC.png" style="skin_hotspotstyle" ath="41.337" atv="6.151" linkedscene="scene_aula_2_usc" />
		
		<hotspot name="spot2" url="hotspotlogoUSC.png"  style="tooltip" distorted="true" tooltip="Saída" ath="-56.022417416813596" atv="9.029220665106548" scale="0.5750000000000001" rx="0" ry="0" rz="0" onclick="goto_scene_pasillo();"/>
		
		<hotspot name="hs_circle" onloaded="do_crop_animation(128,128, 15);" url="skin/waves.png" tag="Video" ath="74.304" atv="16.505" scale="0.5" onclick="popup('iframe', 'https://www.youtube.com/embed/CYYaNzfDk08?rel=0&amp;hd=1&amp;vq=hd1080&amp;showinfo=0&amp;autoplay=1', 900, 506, false);" />		
		
		<!--<hotspot name="hs_circle" style="hs_circle" url="hs_circle.png" tag="Video" ath="74.304" atv="16.505" scale="0.5" onclick="popup('iframe', 'https://www.youtube.com/embed/CYYaNzfDk08?rel=0&amp;hd=1&amp;vq=hd1080&amp;showinfo=0&amp;autoplay=1', 900, 506, false);" />		
		-->

	</scene>

	<scene name="scene_aula_2_usc" title="Aula 2" onstart="" thumburl="panos/aula_2_usc.tiles/thumb.jpg" lat="" lng="" heading="">
		
		<control bouncinglimits="calc:image.cube ? true : false" />

		<view hlookat="-19.926" vlookat="16.518" fovtype="MFOV" fov="120.000" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="auto" />

		<preview url="panos/aula_2_usc.tiles/preview.jpg" />

		<image>
			<cube url="panos/aula_2_usc.tiles/%s/l%l/%v/l%l_%s_%v_%h.jpg" multires="512,640,1280,2560" />
		</image>
		<hotspot name="spot1" url="hotspotlogoUSC.png" style="skin_hotspotstyle" ath="-119.392" atv="2.349" linkedscene="scene_aula_1_usc" />

	</scene>


	<scene name="scene_conserjeria_sinvideo" title="Conserjería" onstart="" thumburl="panos/conserjeria.tiles/thumb.jpg" lat="" lng="" heading="">
		
		<control bouncinglimits="calc:image.cube ? true : false" />

		<view hlookat="86.287" vlookat="5.872" fovtype="MFOV" fov="120.000" maxpixelzoom="2.0" fovmin="70" fovmax="140" limitview="auto" />

		<preview url="panos/conserjeria.tiles/preview.jpg" />

		<image>
			<cube url="panos/conserjeria.tiles/%s/l%l/%v/l%l_%s_%v_%h.jpg" multires="512,640,1280,2560" />
		</image>
		<hotspot name="spot1" url="hotspotlogoUSC.png"  style="tooltip" distorted="true" tooltip="Entrada ao Módulo C1" ath="-54.36500057252715" atv="3.753000091265001" scale="0.5" rx="0" ry="0" rz="0" onclick="goto_scene_pasillo();"/>
		
		
	</scene>

	<!-- nadir logo (a distorted hotspot) -->
	<hotspot name="nadirlogo" keep="true"
	         url="nadirUSC.png"
	         ath="0"
	         atv="90"
	         distorted="true"
	         scale="0.09"
	         rotate="0.0"
	         />

	<!-- onviewchange event - update logo rotation on pano rotation -->
	<events name="nadirlogo" keep="true" onviewchange="copy(hotspot[nadirlogo].rotate, view.hlookat);" />



</krpano>